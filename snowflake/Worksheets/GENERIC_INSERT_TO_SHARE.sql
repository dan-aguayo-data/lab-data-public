CREATE OR REPLACE PROCEDURE CES_REF.CES_DBT.GENERIC_INSERT_TO_SHARE_CONTROL("DBT_PROJECT" VARCHAR(16777216), "SHARE_TYPE" VARCHAR(16777216), "DATA_SHARE" NUMBER(1,0), "SOURCE_ENVIRONMENT" VARCHAR(16777216), "SOURCE_DATABASE" VARCHAR(16777216), "SOURCE_SCHEMA" VARCHAR(16777216), "SOURCE_TABLE" VARCHAR(16777216), "HAS_MSI_FILTER" VARCHAR(16777216), "MULTISCHEME_ID" VARCHAR(16777216), "TARGET_ENTITY_NAME" VARCHAR(16777216), "TARGET_SHARE" VARCHAR(16777216), "TARGET_DB_ROLES" VARCHAR(16777216), "TARGET_ROLES" VARCHAR(16777216), "TARGET_DATABASE" VARCHAR(16777216), "TARGET_SCHEMA" VARCHAR(16777216), "TARGET_TABLE" VARCHAR(16777216), "OTHER_FILTERS" VARCHAR(16777216), "COLUMNS_TO_SHARE" VARCHAR(16777216), "PROC_SCHEMA_EXCEPTIONS" VARCHAR(16777216))
RETURNS VARCHAR(16777216)
LANGUAGE SQL
EXECUTE AS OWNER
AS '
BEGIN
INSERT INTO CES_DBT.DBT_SHARE_CONTROL VALUES (
:DBT_PROJECT, 
:SHARE_TYPE,
:DATA_SHARE,
:SOURCE_ENVIRONMENT,
:SOURCE_DATABASE,
:SOURCE_SCHEMA,
:SOURCE_TABLE, 
:HAS_MSI_FILTER,
:MULTISCHEME_ID, 
:TARGET_ENTITY_NAME,
:TARGET_SHARE,
:TARGET_DB_ROLES,
:TARGET_ROLES,
:TARGET_DATABASE,
:TARGET_SCHEMA,
:TARGET_TABLE,
:OTHER_FILTERS,
:COLUMNS_TO_SHARE,
:PROC_SCHEMA_EXCEPTIONS);
  RETURN ''Rows inserted: '' || SQLROWCOUNT;
END;
';